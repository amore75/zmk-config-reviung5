# SPDX-License-Identifier: MIT
#
# numpad5x6.conf â€” minimal, battery-friendly config
# - Keeps BLE enabled
# - Forces Nordic LFCLK to internal RC (boards without 32k XTAL)
# - Leaves USB enabled (works on cable and on battery)
# - Avoids display/ext-power/battery-driver toggles that caused earlier link errors

# --- Bluetooth on ---
CONFIG_ZMK_BLE=y
# (Do NOT set CONFIG_ZMK_USB_ONLY; leaving it unset lets you use both USB and BLE.)

# --- LFCLK: SuperMini typically has NO 32 kHz crystal ---
# Use the internal RC oscillator and enable calibration so BLE stays stable.
CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
CONFIG_CLOCK_CONTROL_NRF_CALIBRATION_LFCLK=y
CONFIG_CLOCK_CONTROL_NRF_K32SRC_500PPM=y

# --- Power management (safe defaults) ---
CONFIG_PM=y
CONFIG_ZMK_SLEEP=y

# --- Keep logging off to save power (optional) ---
CONFIG_LOG=n

# --- Make sure we are NOT enabling hardware you don't have right now ---
# CONFIG_ZMK_DISPLAY is not set
# CONFIG_SSD1306 is not set
# CONFIG_ZMK_EXT_POWER is not set
# (Battery reporting is auto-enabled only if a battery sensor node exists in DT; don't force it here.)
